<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<launch>
	<!-- arg name="model_file" 	default="/srv/data/gait1992/residual_reduction_algorithm/model_adjusted.osim" / -->
	<arg name="model_file" 	default="/catkin_ws/src/osrt_ros/data/FK scaled model.osim" />
        <node pkg="osrt_ros" type="agrf" 	name="grf_node" output="screen">
		<!-- param name="resample_period" 		value="0.01" / -->
                <param name="model_file" 		value="$(arg model_file)" />
                <param name="grf_right_point_identifier" 		value="ground_force_p" />
                <param name="grf_right_force_identifier" 		value="ground_force_v" />
                <param name="grf_right_torque_identifier" 		value="ground_torque_" />
                <param name="grf_right_apply_to_body" 			value="calcn_r" />
                <param name="grf_right_force_expressed_in_body" 	value="ground" />
                <param name="grf_right_point_expressed_in_body" 	value="ground" />
		
		<param name="grf_left_point_identifier" 		value="1_ground_force_p" />
                <param name="grf_left_force_identifier" 		value="1_ground_force_v" />
                <param name="grf_left_torque_identifier" 		value="1_ground_torque_" />
                <param name="grf_left_apply_to_body" 			value="calcn_l" />
                <param name="grf_left_force_expressed_in_body" 		value="ground" />
		<param name="grf_left_point_expressed_in_body" 		value="ground" />

                <param name="method" 					value="Newton-Euler" />
                <param name="pelvis_body_name" 				value="pelvis" />
                <param name="r_foot_body_name" 				value="calcn_r" />
                <param name="l_foot_body_name" 				value="calcn_l" />
                <rosparam param="r_heel_cop_location">[0.014,-0.0168,-0.0055]</rosparam>
                <rosparam param="l_heel_cop_location">[0.014,-0.0168,0.0055]</rosparam>
                <rosparam param="r_toe_cop_location">[0.24,-0.0168,-0.00117]</rosparam>
                <rosparam param="l_toe_cop_location">[0.24,-0.0168,0.00117]</rosparam>
                <param name="direction_window_size" 			value="10" />
		
		<!--	PLUS ADDITIONAL PARAMETER WHICH ARE SPECIFIC TO EACH TYPE OF DETECTOR	 -->

		<!-- Filter values for filtering ik in cases where we don't use the filtered input -->
		<param name="memory" 			value="35" />
		<param name="cutoff_freq" 		value="6" />
		<param name="delay" 			value="14" />
		<param name="spline_order" 		value="3" />
		<!-- I can simplify this if I put the reader in the global namespace. it won't be because it's remmapped, but it will make it easier to write. Unsure, consider-->
		<remap from="/grf_node/input" to="/ik/output"/>
		<!-- so this is weird, since it is a standalone service call, it is in the global namespace (or so thinks the node)  -->
		<remap from="/in_labels" to="/ik/outlabels"/>
        </node>

</launch>
